<?xml version="1.0"?>
<data>
    <query id="get_pitzone_info">
		SELECT ball, stuff, speed, zonex, zoney, x, y from baseball.pitzone 
		WHERE gmkey = '{0}' 
		AND batorder = '{1}' 
		AND ballcount = '{2}' 
		AND batter = '{3}' 
		AND pitcher = '{4}' 
		LIMIT 1
    </query>
	
	<query id="get_gameinfo_data">
		SELECT Stadium, Vteam, Hteam, Umpc, Ump1, Ump2, Ump3, Mois, Weath, Wind, Crowd, Chajun, Temp 
		FROM baseball.gameinfo 
        WHERE GmKey = '{0}'
    </query>
	
	<query id="get_starting_line_up">
		SELECT turn, name, pcode, team as tb, 
		CASE WHEN team = 'T' THEN SUBSTRING(gmkey, 9, 2) ELSE SUBSTRING(gmkey, 11, 2) END AS team, posi
		FROM baseball.entry
		WHERE GMKEY = '{0}' 
    </query>
	
	<query id="get_gamecontapp">
		SELECT serno, turn, inn, tb, inn2, ocount, bcount, rturn, how, field, place, hitter, hitname, pitcher, pitname, 
						   catcher, catname, bcnt, tscore, bscore, base1b, base2b, base3b, base1a, base2a, base3a 
		FROM baseball.gamecontapp 
		WHERE GMKEY = '{0}' 
		AND HITTER = '{1}'
		AND PITCHER = '{2}'
		AND INN = '{3}'
		AND HOW = '{4}'
		ORDER BY SERNO DESC 
		-- LIMIT 1
    </query>
	
	<query id="get_teamrank_daily">
		SELECT RANK, TEAM, GAME, WIN, LOSE, SAME, WRA, AB, HIT, HR, SB, RUN, INN, INN2, R, ER, ERR, HRA, LRA, BRA, ERA, DRA, A.CONTINUE, H2, H3, BB, HP, SF, A.DATE
		FROM baseball.teamrank_daily A
		WHERE team = '{0}'
		ORDER BY DATE DESC
		LIMIT 1
    </query>
	
	<query id="get_teamrank">
		SELECT RANK, TEAM, GAME, WIN, LOSE, SAME, WRA, AB, HIT, HR, SB, RUN, INN, INN2, R, ER, ERR, HRA, LRA, BRA, ERA, DRA, A.CONTINUE, H2, H3, BB, HP, SF
		FROM baseball.teamrank A
		WHERE gyear = '{0}'
		AND team in ('{1}', '{2}')
    </query>
	
	<query id="test_get_gamecontapp">
		SELECT gmkey, gyear, tb, how, field, place, hitter, hitname, pitcher, pitname, catcher, catname, tscore, bscore, base1a, base2a, base2a
		FROM baseball.gamecontapp_all
    </query>
	
	<query id="get_player_info">
		SELECT NAME, PCODE, TEAM, POSITION, POS, BACKNUM, BIRTH, HEIGHT, WEIGHT, CAREER, HITTYPE, INDATE, MONEY, CAREER2
		FROM baseball.person
		WHERE PCODE = '{0}'
    </query>
	
	<query id="get_player_info">
		SELECT NAME, PCODE, TEAM, POSITION, POS, BACKNUM, BIRTH, HEIGHT, WEIGHT, CAREER, HITTYPE, INDATE, MONEY, CAREER2
		FROM baseball.person
		WHERE PCODE = '{0}'
    </query>
	
	<query id="get_team_vs_team">
		SELECT SUM(CASE WHEN WLS = 'W'THEN 1 ELSE 0 END) AS WIN
						, SUM(CASE WHEN WLS = 'L'THEN 1 ELSE 0 END) AS LOSS
						, SUM(CASE WHEN WLS = 'S'THEN 1 ELSE 0 END) AS SAME
		FROM
			(SELECT GDAY, PCODE, WLS
								, CASE WHEN TB = 'T' THEN SUBSTRING(GMKEY, 9, 2) ELSE SUBSTRING(GMKEY, 11, 2) END AS TEAM
			FROM baseball.pitcher
			WHERE name = '합계'
			AND gday LIKE '{0}%'
			AND (gmkey LIKE '%{1}%' OR gmkey LIKE '%{2}%')
			) A
		WHERE TEAM = '{3}'
    </query>
	
	<query id="get_li_rate">
		SELECT ROUND(LI_RT, 3) AS VALUE
		FROM matrix_detail
		WHERE SEASON_ID = '{0}'
		AND INN_NO = '{1}'
		AND TB_SC = '{2}'
		AND OUT_CN =  '{3}'
		AND RUNNER_SC = '{4}'
		AND SCORE_GAP_CN = '{5}' 
    </query>
	
	<query id="get_max_li_rate">
		SELECT ROUND(MAX(LI_RT), 3) AS VALUE
		FROM record_matrix_mix
		WHERE gameid = '{0}'
		AND seqno &lt; '{1}'
	</query>
	
	<query id="get_record_matrix_mix">
		SELECT ROUND(BEFORE_WE_RT, 3) AS BEFORE_WE_RT
						, ROUND(AFTER_WE_RT, 3) AS AFTER_WE_RT
						, ROUND(WPA_RT, 3) AS WPA_RT
						, ROUND(LI_RT, 3) AS LI_RT
						, ROUND(RE_RT, 3) AS RE_RT
		FROM record_matrix_mix
		WHERE GAMEID = '{0}'
		AND GYEAR = '{1}'
		AND SEQNO = '{2}'
    </query>
</data>